<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Live & Loud - Essex Live Entertainment</title>
  <style>
    :root {
      --primary: #ffffff;
      --background: #000000;
      --border: #ffffff;
    }

    body {
      margin: 0;
      background: var(--background);
      color: var(--primary);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      overflow-x: hidden;
    }

    /* === Splash Screen === */
    #flash {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: var(--background);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }

    #flash img {
      max-width: 500px;
      width: 85%;
      height: auto;
      filter: drop-shadow(0 0 15px white) drop-shadow(0 0 40px white);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { filter: drop-shadow(0 0 15px white) drop-shadow(0 0 40px white); }
      50% { filter: drop-shadow(0 0 25px white) drop-shadow(0 0 70px white); }
    }

    /* === Screens === */
    .screen { display: none; min-height: 100vh; background: var(--background); padding: 20px; box-sizing: border-box; position: relative; overflow: hidden; }
    .screen.active { display: block; }

    .small-logo { position: absolute; top: 20px; left: 20px; z-index: 10; }
    .small-logo img { max-width: 100px; filter: drop-shadow(0 0 6px white) drop-shadow(0 0 15px white); }

    /* === Home Page === */
    .welcome { text-align: center; margin-top: 100px; font-size: 40px; font-weight: bold; text-shadow: 0 0 8px white, 0 0 20px white; }
    .tagline-wrapper { display: flex; justify-content: center; margin-top: 15px; }
    .tagline { font-size: 18px; font-weight: 500; line-height: 1.4; opacity: 0.85; text-shadow: 0 0 6px white, 0 0 12px rgba(255,255,255,0.6); border-right: 2px solid white; white-space: pre-wrap; overflow: hidden; text-align: center; max-width: 90%; }
    .tile-container { display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 50px; }
    .tile { background: #000; border: 2px solid var(--border); color: var(--primary); font-size: 18px; font-weight: bold; padding: 20px 40px; border-radius: 12px; cursor: pointer; transition: all 0.3s ease; text-align: center; text-transform: uppercase; filter: drop-shadow(0 0 6px white); width: 80%; max-width: 320px; z-index: 10; }
    .tile:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 0 20px rgba(255,255,255,0.9); }

    /* === Music Spotlights === */
    .searchlight { position: absolute; width: 8vmax; height: 140vmax; background: radial-gradient(ellipse at center, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.4) 30%, transparent 70%); mix-blend-mode: screen; pointer-events: none; z-index: 1; filter: blur(1px); opacity: 0.95; }
    .bl { bottom: 0; left: 0; transform-origin: bottom left; }
    .br { bottom: 0; right: 0; transform-origin: bottom right; }
    .tl { top: 0; left: 0; transform-origin: top left; }
    .tr { top: 0; right: 0; transform-origin: top right; }

    /* Hub Header + Back */
    .hub-header { text-align: center; font-size: 24px; font-weight: bold; margin-top: 80px; text-shadow: 0 0 6px white, 0 0 12px white; z-index: 10; position: relative; }
    .back-btn { position: absolute; top: 20px; right: 20px; padding: 10px 20px; border: 2px solid white; background: transparent; color: white; font-weight: bold; text-transform: uppercase; cursor: pointer; border-radius: 8px; z-index: 15; transition: all 0.3s ease; }
    .back-btn:hover { background: white; color: black; }

    .search-tiles { display: flex; flex-direction: column; align-items: center; gap: 15px; margin-top: 200px; position: relative; z-index: 10; }
    .search-tiles select { background: #000; border: 2px solid var(--border); color: var(--primary); font-size: 16px; font-weight: bold; padding: 15px 30px; border-radius: 12px; cursor: pointer; text-transform: uppercase; filter: drop-shadow(0 0 6px white); width: 80%; max-width: 320px; }

    /* === Gig Listings === */
    .gig-listings { margin-top: 40px; }
    .gig { display: flex; gap: 15px; margin-bottom: 20px; background: rgba(255,255,255,0.05); padding: 10px 15px; border-radius: 8px; }
    .gig-date { min-width: 120px; font-weight: bold; }
    .gig-info h3 { margin: 5px 0; font-size: 18px; }
    .gig-info p { margin: 2px 0; font-size: 14px; }

    /* === Comedy Spotlight === */
    .comedy-spotlight-lamp { position: absolute; top: -2vmax; left: 50%; width: 6vmax; height: 6vmax; background: radial-gradient(circle, rgba(255,255,200,1) 0%, rgba(255,255,150,0.8) 40%, rgba(255,255,100,0.4) 70%, transparent 100%); border-radius: 50%; transform: translateX(-50%); filter: blur(2px); z-index: 2; animation: lampGlow 2.5s ease-in-out infinite alternate; }
    @keyframes lampGlow { 0% { opacity: 0.8; transform: translateX(-50%) scale(1); } 100% { opacity: 1; transform: translateX(-50%) scale(1.05); } }
    .comedy-spotlight { position: absolute; top: 0; left: 50%; width: 0; height: 0; border-left: 12vmax solid transparent; border-right: 12vmax solid transparent; border-top: 0 solid transparent; border-bottom: 90vmax solid rgba(255,255,200,0.25); transform: translateX(-50%); filter: blur(6px); pointer-events: none; z-index: 1; }
    .comedy-stage-glow { position: absolute; bottom: 5%; left: 50%; width: 35vmax; height: 8vmax; background: radial-gradient(ellipse at center, rgba(255,255,200,0.7), transparent 70%); transform: translateX(-50%); filter: blur(8px); pointer-events: none; z-index: 1; animation: haloPulse 3s ease-in-out infinite; }
    @keyframes haloPulse { 0% { transform: translateX(-50%) scale(1); opacity: 0.8; } 50% { transform: translateX(-50%) scale(1.1); opacity: 1; } 100% { transform: translateX(-50%) scale(1); opacity: 0.8; } }

    /* === Entertainment Disco Lights === */
    .entertainment-lights { position: absolute; top: 50%; left: 50%; width: 200vmax; height: 200vmax; border-radius: 50%; transform: translate(-50%, -50%); z-index: 1; background: conic-gradient(from 0deg, rgba(255,0,0,0.25), rgba(0,255,0,0.25), rgba(0,0,255,0.25), rgba(255,255,0,0.25), rgba(255,0,255,0.25), rgba(0,255,255,0.25), rgba(255,0,0,0.25)); animation: rotateLights 12s linear infinite; filter: blur(100px); }
    @keyframes rotateLights { 0% { transform: translate(-50%, -50%) rotate(0deg); } 100% { transform: translate(-50%, -50%) rotate(360deg); } }
  </style>
</head>
<body>

  <!-- Splash Screen -->
  <div id="flash"><img src="logo.png" alt="Live & Loud Logo"></div>

  <!-- Home -->
  <div id="home" class="screen">
    <div class="small-logo"><img src="logo.png" alt="Logo"></div>
    <div class="welcome">Welcome</div>
    <div class="tagline-wrapper"><div class="tagline" id="tagline"></div></div>
    <div class="tile-container">
      <div class="tile" onclick="goToHub('music')">ðŸŽ¸ Music</div>
      <div class="tile" onclick="goToHub('comedy')">ðŸŽ­ Comedy</div>
      <div class="tile" onclick="goToHub('entertainment')">ðŸŽ¶ Entertainment</div>
    </div>
  </div>

  <!-- === Music Hub with Dropdown Filters === -->
  <div id="hub-music" class="screen">
    <div id="spotlights"></div>
    <div class="small-logo"><img src="logo.png" alt="Logo"></div>
    <button class="back-btn" onclick="goHome()">â¬… Back</button>
    <div class="hub-header">Search By</div>

    <!-- Dropdown Filters -->
    <div class="search-tiles">
      <select id="filter-region" onchange="filterGigs()"><option value="">All Regions</option></select>
      <select id="filter-venue" onchange="filterGigs()"><option value="">All Venues</option></select>
      <select id="filter-band" onchange="filterGigs()"><option value="">All Bands</option></select>
      <select id="filter-date" onchange="filterGigs()"><option value="">All Dates</option></select>
    </div>

    <!-- ðŸŽ¶ Live Gig Listings -->
    <div class="gig-listings" id="gig-listings">
      <!-- (Insert the 30 gig <div class="gig"> blocks here â€” same as before) -->
    </div>
  </div>

  <!-- === Comedy Hub === -->
  <div id="hub-comedy" class="screen">
    <div class="comedy-spotlight-lamp"></div>
    <div class="comedy-spotlight"></div>
    <div class="comedy-stage-glow"></div>
    <div class="small-logo"><img src="logo.png" alt="Logo"></div>
    <button class="back-btn" onclick="goHome()">â¬… Back</button>
    <div class="hub-header">Comedy Shows</div>
    <div class="search-tiles">
      <div class="tile">Region</div><div class="tile">Venue</div><div class="tile">Performer</div><div class="tile">Date</div>
    </div>
  </div>

  <!-- === Entertainment Hub === -->
  <div id="hub-entertainment" class="screen">
    <div class="entertainment-lights"></div>
    <div class="small-logo"><img src="logo.png" alt="Logo"></div>
    <button class="back-btn" onclick="goHome()">â¬… Back</button>
    <div class="hub-header">Entertainment Events</div>
    <div class="search-tiles">
      <div class="tile">Region</div><div class="tile">Venue</div><div class="tile">Show</div><div class="tile">Date</div>
    </div>
  </div>

  <script>
    // === Spotlight Generator for Music Hub ===
    function createSpotlights() {
      const container = document.getElementById("spotlights");
      container.innerHTML = "";
      const corners = [
        {class: "bl", x: "0%", y: "100%", origin: "bottom left"},
        {class: "br", x: "100%", y: "100%", origin: "bottom right"},
        {class: "tl", x: "0%", y: "0%", origin: "top left"},
        {class: "tr", x: "100%", y: "0%", origin: "top right"}
      ];
      corners.forEach((corner, cIndex) => {
        for (let i = 0; i < 6; i++) {
          const light = document.createElement("div");
          light.classList.add("searchlight", corner.class);
          light.style.left = corner.x; light.style.top = corner.y;
          light.style.transformOrigin = corner.origin;

          const angle1 = Math.floor(Math.random() * 120) - 60;
          const angle2 = Math.floor(Math.random() * 120) - 60;
          const duration = Math.floor(Math.random() * 3) + 2;
          const animName = `sweep${cIndex}-${i}`;
          light.style.animation = `${animName} ${duration}s ease-in-out infinite alternate`;

          const styleSheet = document.styleSheets[0];
          styleSheet.insertRule(`@keyframes ${animName} { from { transform: rotate(${angle1}deg);} to { transform: rotate(${angle2}deg);} }`, styleSheet.cssRules.length);
          container.appendChild(light);
        }
      });
    }

    // === Splash Screen Transition (3s) ===
    window.addEventListener("load", () => {
      setTimeout(() => {
        document.getElementById("flash").style.display = "none";
        document.getElementById("home").classList.add("active");

        const tagline = "Discover the best live entertainment\nin Essex and beyond";
        let i = 0, speed = 50;
        const taglineEl = document.getElementById("tagline");

        function typeWriter() {
          if (i < tagline.length) {
            taglineEl.textContent += tagline.charAt(i); i++; setTimeout(typeWriter, speed);
          } else { taglineEl.style.borderRight = "none"; }
        }
        setTimeout(typeWriter, 500);
      }, 3000);

      // populate filters after gigs load
      setTimeout(populateFilters, 3100);
    });

    // === Navigation ===
    function goToHub(type) {
      document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
      const hub = document.getElementById("hub-" + type);
      hub.classList.add("active");
      if (type === "music") createSpotlights();
    }
    function goHome() {
      document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
      document.getElementById("home").classList.add("active");
    }

    // === Filter Dropdown Population + Logic ===
    function populateFilters() {
      const gigs = document.querySelectorAll(".gig");
      const regions = new Set(), venues = new Set(), bands = new Set(), dates = new Set();
      gigs.forEach(gig => {
        regions.add(gig.querySelector(".region").textContent.trim());
        venues.add(gig.querySelector(".gig-info p:last-child").textContent.replace("Venue: ","").trim());
        bands.add(gig.querySelector("h3").textContent.trim());
        dates.add(gig.querySelector(".gig-date").textContent.trim());
      });
      addOptions("filter-region", regions);
      addOptions("filter-venue", venues);
      addOptions("filter-band", bands);
      addOptions("filter-date", dates);
    }
    function addOptions(selectId, items) {
      const select = document.getElementById(selectId);
      [...items].sort().forEach(item => {
        const opt = document.createElement("option");
        opt.value = item; opt.textContent = item;
        select.appendChild(opt);
      });
    }
    function filterGigs() {
      const region = document.getElementById("filter-region").value;
      const venue = document.getElementById("filter-venue").value;
      const band = document.getElementById("filter-band").value;
      const date = document.getElementById("filter-date").value;

      document.querySelectorAll(".gig").forEach(gig => {
        const gigRegion = gig.querySelector(".region").textContent.trim();
        const gigVenue = gig.querySelector(".gig-info p:last-child").textContent.replace("Venue: ","").trim();
        const gigBand = gig.querySelector("h3").textContent.trim();
        const gigDate = gig.querySelector(".gig-date").textContent.trim();
                let visible = true;
        if (region && gigRegion !== region) visible = false;
        if (venue && gigVenue !== venue) visible = false;
        if (band && gigBand !== band) visible = false;
        if (date && gigDate !== date) visible = false;

        gig.style.display = visible ? "flex" : "none";
      });
    }
  </script>

</body>
</html>
